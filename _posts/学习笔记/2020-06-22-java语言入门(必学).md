---
layout: post
title: "Java语言入门"
subtitle: "「个人学习记录」"
author: "月明"
date: 2020-06-23 00:35:00
header-img: "assets/code.png"
header-mask: 0.4
tags:
  - 学习笔记
  - Java
---
### day06_类与对象、封装、构造方法

面向对象思想是一种程序设计思想，对象泛指现实中一切事物，每种事物都具备自己的属性和行为。

面向对象思想就是在计算机程序设计过程中，参照现实中事物，将事物的属性特征、行为特征抽象出来，描述成计算机事件的设计思想。

类：是一组相关属性和行为的集合。可以看成是一类事物的模板，使用事物的属性(事物的状态信息)特征和行为(事物能做什么)特征来描述该类事物。

对象：是一类事物的具体体现。对象是类的一个实例（对象并不是找个女朋友），必然具备该类事物的属性和行为。

![01-只有一个对象的内存图](/assets/image/2020-06-22-0.png)
只有一个对象的内存图



![02-两个对象使用同一个方法的内存图](/assets/image/2020-06-22-1.png)
两个对象使用同一个方法的内存图



![04-使用对象类型作为方法的参数](/assets/image/2020-06-22-2.png)
使用对象类型作为方法的参数



![05-使用对象类型作为方法的返回值](/assets/image/2020-06-22-3.png)
使用对象类型作为方法的返回值

-  在类中的位置不同
	- 成员变量：类中，方法外
	- 局部变量：方法中或者方法声明上(形式参数)

-   作用范围不一样
	- 成员变量：类中
	- 局部变量：方法中
	  
- 初始化值的不同
	- 成员变量：有默认值
	- 局部变量：没有默认值。必须先定义，赋值，最后使用

- 在内存中的位置不同
	- 成员变量：堆内存
	- 局部变量：栈内存

- 生命周期不同
	- 成员变量：随着对象的创建而存在，随着对象的消失而消失
	- 局部变量：随着方法的调用而存在，随着方法的调用完毕而消失

面向对象的语言中，包含了三大基本特征，即封装、继承和多态。
封装可以被认为是一个保护屏障，防止该类的代码和数据被其他类随意访问。要访问该类的数据，必须通过指定的方式。适当的封装可以让代码更容易理解与维护，也加强了代码的安全性。

1.使用 private 关键字来修饰成员变量。

2.对需要访问的成员变量，提供对应的一对 getXxx 方法 、 setXxx 方法。

this代表所在类的当前对象的引用（地址值），即对象自己的引用。记住
：方法被哪个对象调用，方法中的this就代表那个对象。即谁在调用，this就代表谁。

当一个对象被创建时候，构造方法用来初始化该对象，给对象的成员变量赋初始值。无论你与否自定义构造方法，所有的类都有构造方法，因为Java自动提供了一个无参数构造方法，
一旦自己定义了构造方法，Java自动提供的默认无参数构造方法就会失效。

构造方法的写法上，方法名与它所在的类名相同。它没有返回值，所以不需要返回值类型，甚至不需要void。使用构造方法后：

	修饰符 构造方法名(参数列表){ // 方法体 }

### day07_Scanner类、Random类、ArrayList类

API(Application Programming Interface)，应用程序编程接口。Java
API是一本程序员的字典。

匿名对象
：没有变量名的对象。创建匿名对象直接调用方法，没有变量名。一个匿名对象，只能使用一次。
匿名对象可以作为方法的参数和返回值。

**java.util.ArrayList**
是大小可变的数组的实现，只能存储引用类型的数据。存储在内的数据称为元素。此类提供一些方法来操作内部存储的元素。 ArrayList 中可不断添加元素，其大小也自动增长。

![](/assets/image/2020-06-22-4.png)

``` java
ArrayList\<String\> list = new ArrayList\<\>();

public boolean add(E e) ：将指定的元素添加到此集合的尾部。

public E remove(int index) ：移除此集合中指定位置上的元素。返回被删除的元素。

public E get(int index) ：返回此集合中指定位置上的元素。返回获取的元素。

public int size()：返回此集合中的元素数。遍历集合时，可以控制索引范围，防止越界。

```

### day08_String类、static、Arrays类、Math类

**java.lang.String 类代表字符串**

特点：

1.字符串不变：字符串的值在创建后不能被更改。

2.它们可以被共享。

3."abc" 等效于 char[] data={ 'a' , 'b' , 'c' } 。String底层是靠字符数组实现的。

- 判断功能的方法：


``` java
public boolean equals (Object anObject)
：将此字符串与指定对象进行比较（内容是否相同）。

public boolean equalsIgnoreCase (String anotherString)
：将此字符串与指定对象进行比较，忽略大小写。
```


- 获取功能的方法：


``` java

public int length () ：返回此字符串的长度。

public String concat (String str) ：将指定的字符串连接到该字符串的末尾。 

public char charAt (int index) ：返回指定索引处的 char值。

public int indexOf (String str) ：返回指定子字符串第一次出现在该字符串内的索引。

public String substring (int beginIndex)：返回一个子字符串，从beginIndex开始截取字符串到字符串结尾。

public String substring (int beginIndex, int endIndex)：返回一个子字符串，从beginIndex到endIndex截取字符串。含beginIndex，不含endIndex。
```


- 转换功能的方法：

``` java
public char[] toCharArray () ：将此字符串转换为新的字符数组。

public byte[] getBytes () ：使用平台的默认字符集将该String编码转换为新的字节数组。

public String replace (CharSequence target, CharSequence replacement)
：将与target匹配的字符串使 用replacement字符串替换。
```

- 分割功能的方法：

``` java
public String[] split(String regex)：将此字符串按照给定的regex（规则）拆分为字符串数组。
```
static 关键字的使用，它可以用来修饰的成员变量和成员方法。

修饰成员变量时，该变量称为类变量。该类的每个对象都共享同一个类变量的值。任何对象都可以更改
该类变量的值，但也可以在不创建该类的对象的情况下对类变量进行操作。

修饰成员方法时，该方法称为类方法。建议使用类名来调用，而不需要
创建类的对象。调用方式非常简单

	注意：静态方法中，不能使用this关键字。静态方法只能访问静态成员。

![03-静态的内存图](/assets/image/2020-06-22-5.png)
静态的内存图


静态代码块：定义在成员位置，使用static修饰的代码块{ }。

位置：类中方法外。

执行：随着类的加载而执行且执行一次，优先于main方法和构造方法的执行。

作用：给类变量进行初始化赋值。

static
关键字，可以修饰变量、方法和代码块。在使用的过程中，其主要目的还是想在不创建对象的情况下，去调用方法。

下面将介绍两个工具类，来体现static 方法的便利。

**java.util.Arrays**
此类包含用来操作数组的各种方法，比如排序和搜索等。其所有方法均为静态方法，调用起来非常简单。

``` java
public static String toString(int[] a) ：返回指定数组内容的字符串表示形式。

public static void sort(int[] a) ：对指定的 int 型数组按数字升序进行排序。
```



**java.lang.Math**
类包含用于执行基本数学运算的方法，如初等指数、对数、平方根和三角函数。类似这样的工具类，其所有方法均为静态方法，并且不会创建对象，调用起来非常简单。

``` java
public static double abs(double a) ：返回 double 值的绝对值。

public static double ceil(double a) ：返回大于等于参数的最小的整数。

public static double floor(double a) ：返回小于等于参数最大的整数。

public static long round(double a) ：返回最接近参数的 long。(相当于四舍五入方法)
```

### day09_继承、super、this、抽象类

继承(单继承，多层继承)：就是子类继承父类的属性和行为，使得子类对象具有与父类相同的属性、相同的行为。**子类**可以直接访问**父类**中的非私有的属性和行为。

1.  提高代码的复用性。 
2.  类与类之间产生了关系，是多态的前提。

如果子类父类中出现不重名的成员变量，这时的访问是没有影响的。

如果子类父类中出现重名的成员变量，这时的访问是有影响的。子父类中出现了同名的成员变量时，在子类中需要访问父类中非私有成员变量时，需要使用
super 关键字，修饰父类成员变量。

如果子类父类中出现不重名的成员方法，这时的调用是没有影响的。对象调用方法时，会先在子类中查找有没有对
应的方法，若子类中存在就会执行子类中的方法，若子类中不存在就会执行父类中相应的方法。

如果子类父类中出现重名的成员方法，方法重写：子类中出现与父类一模一样的方法时（返回值类型，方法名和参数列表都相同），会出现覆盖效果，也称为重写或者复写。声明不变，重新实现。必须要保证权限大于等于父类权限。

子类的初始化过程中，必须先执行父类的初始化动作。子类的构 造方法中默认有一个
super()。

![03-super与this的内存图](/assets/image/2020-06-22-06.png)
super与this的内存图



super() 和 this() 都必须是在构造方法的第一行，所以不能同时出现。

使用 abstract
关键字修饰方法，该方法就成了抽象方法，抽象方法只包含一个方法名，而没有方法体。

如果一个类包含抽象方法，那么该类必须是抽象类。

继承抽象类的子类必须重写父类所有的抽象方法。否则，该子类也必须声明为抽象类。最终，必须有子类实现该父
类的抽象方法，否则，从最初的父类到最终的子类都不能创建对象，失去意义。

抽象类中，不一定包含抽象方法，但是有抽象方法的类必定是抽象类。未包含抽象方法的抽象类，目的就是不想让调用者创建该类对象，通常用于某些特殊的类结构设计。

抽象类的子类，必须重写抽象父类中所有的抽象方法，否则，编译无法通过而报错。除非该子类也是抽象类。

### day10_接口、多态

接口，是Java语言中一种引用类型，是方法的集合，如果说类的内部封装了成员变量、构造方法和成员方法，那么
接口的内部主要就是封装了方法，包含抽象方法【使用 abstract
关键字修饰，可以省略，没有方法体。该方法供子类实现使用】（JDK
7及以前），默认方法【使用 default
修饰，不可省略，供子类调用或者子类重写。】和静态方法【使用 static
修饰，供接口直接调用。】（JDK 8），私有方法【使用 private
修饰，供接口中的默认方法或者静态方法调用。】（JDK 9）。

一个实现接口的类（可以看做是接口的子类），需要实现接口中所有的抽象方法，创建该类对象，就可以调用方法了，否则它必须是一个抽象类。

一个类是可以实现多个接口的，这叫做接口的多实现。并且，一个类能继承一个父类，同时实现多个接口。

接口多继承，一个接口能继承另一个或者多个接口。

接口中，无法定义成员变量，但是可以定义常量，其值不可以改变，默认使用public
static final修饰。

	接口中，没有构造方法，不能创建对象。
	接口中，没有静态代码块。

多态：
是指同一行为，具有多个不同表现形式。当使用多态方式调用方法时，首先检查父类中是否有该方法，如果没有，则编译错误；如果有，执行的是子类重写后方法。

> 实际开发的过程中，父类类型作为方法形式参数，传递子类对象给方法，进行方法的调用，更能体现出多态的扩展性与便利。

	多态的好处，体现在，可以使程序编写的更简单，并有良好的扩展。

多态的转型：

向上转型：多态本身是子类类型向父类类型向上转换的过程，这个过程是默认的。
当父类引用指向一个子类对象时，便是向上转型。

向下转型：父类类型向子类类型向下转换的过程，这个过程是强制的。一个已经向上转型的子类对象，将父类引用转为子类引用，可以使用强制类型转换的格式，便是向下转型。

想要调用子类特有的方法，必须做向下转型。

为了避免ClassCastException(类型转换异常！)的发生，Java提供了 instanceof关键字，给引用变量做类型的校验。

	变量名 instanceof 数据类型

如果变量属于该数据类型，返回true。如果变量不属于该数据类型，返回false。

### day11_final、权限、内部类

final： 不可改变。可以用于修饰类、方法和变量。

类：被修饰的类，不能被继承。

方法：被修饰的方法，不能被重写。

变量：被修饰的变量，不能被重新赋值。

![](/assets/image/2020-06-22-07.png)

>   编写代码时，如果没有特殊的考虑，建议这样使用权限：

	成员变量使用 private ，隐藏细节。构造方法使用 public ，方便创建对象。成员方法使用 public ，方便调用方法。

将一个类A定义在另一个类B里面，里面的那个类A就称为内部类，B则称为外部类。

 **成员内部类**：定义在类中方法外的类。在描述事物时，若一个事物内部还包含其他事物，就可以使用内部类这种结构。

内部类可以直接访问外部类的成员，包括私有成员。

外部类要访问内部类的成员，必须要建立内部类的对象。

创建内部类对象格式：

	外部类名.内部类名 对象名 = new 外部类型().new 内部类型()；

内部类仍然是一个独立的类，在编译之后会内部类会被编译成独立的.class文件，但是前面冠以外部类的类名和\$符号。

**匿名内部类** ：是内部类的简化写法。它的本质是一个带具体实现的父类或者父接口的
匿名的子类对象。 开发中，最常用到的内部类就是匿名内部类了。

	前提：匿名内部类必须继承一个父类或者实现一个父接口。

``` java
new 父类名或者接口名(){

// 方法重写

\@Override

public void method() {

// 执行语句

}

};
```
通常在方法的形式参数是接口或者抽象类时，也可以将匿名内部类作为参数传递。

> 实际的开发中，引用类型的使用非常重要，也是非常普遍的。我们可以在理解基本类型的使用方式基础上，进一步去掌握引用类型的使用方式。基本类型可以作为成员变量、作为方法的参数、作为方法的返回值，那么当然引用类型也是可以的。

类作为成员变量时，对它进行赋值的操作，实际上，是赋给它该类的一个对象。

我们使用一个接口，作为成员变量，这样的设计更为灵活，增强了程序的扩展性。
接口作为成员变量时，对它进行赋值的操作，实际上，是赋给它该接口的一个子类对象。

接口作为参数时，传递它的子类对象。

接口作为返回值类型时，返回它的子类对象。
